---
import { Icon } from "astro-icon";
import "../styles/sliderStyle.css";

const { photos: photoMaps } = Astro.props;
---

<section class="slider-wrapper">
  <h2 class="sr-only">slider</h2>
  <div class="slider-container container-xs">
    <button
      class="slider-btn grid-sm slider-btn--prev"
      id="prev"
      aria-label="Previous Photo">
      <Icon name="feather:chevron-left" width="50" />
    </button>
    <div class="photos">
      {
        photoMaps.slice(photoMaps.length - 1).map((photo) => (
          <div class="photo grid-sm">
            <img src={photo.src} alt="" class="photo-img" />
          </div>
        ))
      }
      {
        photoMaps.map((photo) => (
          <div class="photo grid-sm">
            <img src={photo.src} alt="" class="photo-img" />
            <br />
            {photo.url ? (
              <a class="underline text-blue-500 text-center" href={photo.url}>
                {photo.name}
              </a>
            ) : (
              <p class="text-center">{photo.name}</p>
            )}
          </div>
        ))
      }
      {
        photoMaps.slice(0, 1).map((photo) => (
          <div class="photo grid-sm">
            <img src={photo.src} alt="" class="photo-img" />
          </div>
        ))
      }
    </div>
    <div class="indicator-container">
      {
        photoMaps.map((photo) => (
          <button class={`indicator ${photo?.active && "active"}`} />
        ))
      }
    </div>
    <button
      class="slider-btn grid-sm slider-btn--next"
      id="next"
      aria-label="Next Photo">
      <Icon name="feather:chevron-right" width="50" />
    </button>
  </div>
</section>
<script>
  import "@utils/sliderFunctions.js";
</script>
